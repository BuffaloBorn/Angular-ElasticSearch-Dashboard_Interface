<div>
	<h4>Metrics: </h4>
	<p>
		<span>Aggregation:</span>
		<select [(ngModel)]="selectedAggregation">
			<option
				*ngFor="let aggregation of aggregationsArr"
				(change)="onChange($event.target.value)"
				[value]="aggregation">
					{{aggregation}}
			</option>
		</select>
		<select
			*ngIf="isNumFieldAgg()"
			[(ngModel)]="selectedNumField">
			<option
				*ngFor="let numField of numFields"
				[value]="numField">
					{{numField}}
			</option>
		</select>
	</p>

	<div *ngIf="selectedAggregation==='Percentiles'">
			<div>
				<form novalidate [formGroup]="percentileForm">
					<input
						#percentileBox
						formControlName="percentileBox"
						type="number"
					/>
				</form>
				<span
					*ngIf="formErrors.percentileBox">
					{{ formErrors.percentileBox }}
				</span>
				<div *ngIf="!formErrors.percentileBox">
					<button (click)="addPercentile(percentileBox.value)">Add</button>
				</div>
			</div>
			<div>
				<span *ngFor="let value of percentileValues">
					{{'[' + value + ']'}}
				</span>
			</div>
		<!--<p>
			Percentiles: <span *ngFor="let result of results">{{'[' + result + ']'}} </span>
		</p>-->
	</div>

	<p>
		<button (click)="processCalculation()">Calculate</button>
	</p>

	Result: <span *ngFor="let result of results">{{'[' + result + ']'}} </span>
</div>
